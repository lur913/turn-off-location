---
import { getCollection, render } from 'astro:content';
import Base from '@/layouts/Base.astro';

export async function getStaticPaths() {
  const commonPages = await getCollection("common");
  return commonPages.map(common => ({
    params: {common: `${common.id.replace(/_/g, '-')}`},
    props: {
      common
    }
  }))
}

const { common } = Astro.props;
const { Content } = await render(common);

const title = common.data.title;
const description = common.data.title + ' - turnofflocation.com';
const lastUpdated = common.data.lastUpdated;
---

<Base title={title} description={description}>
  <article class="text-gray-800 max-w-[800px] my-10 px-4 lg:px-0 mx-auto prose prose-h1:text-black prose-h2:text-black prose-strong:text-black  prose-a:text-blue-500 prose-a:cursor-pointer">
    <h1 class="text-center mb-1">{title}</h1>
    <p class="text-center">Last updated: {lastUpdated}</p>
    <Content />
  </article>
</Base>